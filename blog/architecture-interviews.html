<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>How to do an architecture interview | Benjamin Yolken</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="How to do an architecture interview" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Many software engineering interview loops include an ‚Äúarchitecture interview‚Äù, where the candidate is asked to develop a high-level design for a software system. Over the last few years, I‚Äôve given many, many of these interviews. Based on these experiences, I‚Äôd like to share what it takes to succeed in them, and some common behaviors to avoid." />
<meta property="og:description" content="Many software engineering interview loops include an ‚Äúarchitecture interview‚Äù, where the candidate is asked to develop a high-level design for a software system. Over the last few years, I‚Äôve given many, many of these interviews. Based on these experiences, I‚Äôd like to share what it takes to succeed in them, and some common behaviors to avoid." />
<link rel="canonical" href="https://yolken.net/blog/architecture-interviews" />
<meta property="og:url" content="https://yolken.net/blog/architecture-interviews" />
<meta property="og:site_name" content="Benjamin Yolken" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-24T11:26:00-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="How to do an architecture interview" />
<script type="application/ld+json">
{"url":"https://yolken.net/blog/architecture-interviews","headline":"How to do an architecture interview","dateModified":"2020-12-24T11:26:00-08:00","datePublished":"2020-12-24T11:26:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://yolken.net/blog/architecture-interviews"},"description":"Many software engineering interview loops include an ‚Äúarchitecture interview‚Äù, where the candidate is asked to develop a high-level design for a software system. Over the last few years, I‚Äôve given many, many of these interviews. Based on these experiences, I‚Äôd like to share what it takes to succeed in them, and some common behaviors to avoid.","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://yolken.net/feed.xml" title="Benjamin Yolken" /><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146787283-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-146787283-1');
</script>

    





  
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Benjamin Yolken</a>
    <span class="site-subtitle">Adventures in software engineering</span><nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path
              d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
          </svg>
        </span>
      </label>

      <div class="trigger"><a class="page-link" href="/blog">Blog</a><a class="page-link" href="/open-source">OSS</a><a class="page-link" href="/pubs">Papers</a><a class="page-link" href="/about">About</a></div>
    </nav></div>
</header><main class="page-content" aria-label="Content">
    <div class="wrapper">
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">How to do an architecture interview</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-12-24T11:26:00-08:00" itemprop="datePublished">Dec 24, 2020
      </time><br />
      [
      <a href="/tags/interviews"><code class="highligher-rouge"><nobr>interviews</nobr></code></a>&nbsp;
      ]
    </p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Many software engineering interview loops include an ‚Äúarchitecture interview‚Äù, where the
candidate is asked to develop a high-level design for a software system. Over the last few
years, I‚Äôve given many, many of these interviews, so I‚Äôve seen a wide range of performances
across the spectrum, from ‚Äúabsolutely terrible‚Äù to ‚Äúwe need to hire this person now!‚Äù.</p>

<p>Based on these experiences, I‚Äôd like to share what it takes to succeed in these interviews as
the candidate, and some common behaviors to avoid.</p>

<h2 id="how-it-works">How it works</h2>

<p>Although the exact format can vary, most architecture interviews begin with an open-ended
prompt of the form ‚Äúdesign <em>X</em>‚Äù. The <em>X</em> can be filled in with a generic software system,
for instance:</p>

<ol>
  <li>A distributed <a href="https://en.wikipedia.org/wiki/Key%E2%80%93value_database">key/value store</a></li>
  <li>A <a href="https://en.wikipedia.org/wiki/Web_crawler">web crawler</a></li>
  <li>A video streaming system</li>
</ol>

<p>An alternative, which I think is the more interesting approach, is to fill in the blank with
a well-known product or product feature; some examples here include:</p>

<ol>
  <li>Generating the Facebook news feed</li>
  <li>Executing a Robinhood user‚Äôs trade flow</li>
  <li>Matching Uber drivers and riders</li>
</ol>

<p>The target design, whether generic or product-based, might be something related to the company‚Äôs
own systems or products, but it‚Äôs often not.</p>

<p>The question is left open-ended and high-level deliberately. The interviewer is not looking for
a specific answer (usually), but rather wants to observe the process by which you break down
the problem, dig into the pieces, and justify your decisions. As you discuss your solution,
the interviewer will ask questions, steer you towards or away from specific areas, and really try
to understand what it would be like to collaborate with you on the design of a real project.</p>

<h2 id="structure-is-key">Structure is key</h2>

<p>Because the questions are so open-ended, and because you‚Äôre being evaluated as much on your
process as your specific solution, structuring your answer is really, really important. Here‚Äôs
a structure that I think works well for most of these questions.</p>

<h3 id="step-1-clarification">Step 1: Clarification</h3>

<p>Once you get the question, the first step is to make sure you understand what you‚Äôre being asked
to design. For the ‚Äúdesign a system to match Uber drivers and riders‚Äù example, for instance,
if you‚Äôve never used Uber before it‚Äôs probably good to say that and ask for more details.
Even if you‚Äôre familiar with the thing being asked about, it‚Äôs helpful to draw a simple picture
with stick figures to make sure that you and the interviewer are on the same page.</p>

<p>This is also the time to ask about rough orders of magnitude scale (e.g., how many requests
per second are expected, etc.). However, I wouldn‚Äôt get too bogged down in these numbers- a
good design should have lots of room for growth and not be built to a specific set of static
dimensions.</p>

<h3 id="step-2-high-level-drawing">Step 2: High-level drawing</h3>

<p>Next, you should draw out a high-level diagram that shows the major pieces and how they‚Äôre
connected. As discussed later on, the idea here is to be high-level and not over-engineer at
this phase. You should mention that you‚Äôre deliberately being simple and high-level,
and that you‚Äôll dig into improvements later so the interview knows that you‚Äôre not being sloppy.</p>

<p><img src="/assets/simple_architecture_diagram.png" alt="Simple architecture diagram" /></p>

<p>In the Uber case, as in many others, you‚Äôll probably have clients, a layer of web servers,
and some sort of storage layer that keeps track of the states of the users and other entities
in the system.</p>

<h3 id="step-3-interface-details">Step 3: Interface details</h3>

<p>Once you have a picture of the main pieces, I think it‚Äôs really useful to describe the system
interface, i.e. what are the specific inputs and outputs, independent
of any internal implementation details. In the case of a client/server type design (most common),
these map to the requests that the clients make and the responses that they get.</p>

<p>Being really specific about these (the different types, what they include, etc.) ensures that
you and the interviewer are on the same page and also guides the discussion of the implementation
details in later steps.</p>

<p>In the Uber example, you‚Äôll have requests from the rider client (i.e., app) for a ride, requests
from the driver client to change status, to accept a potential ride or not, etc. In this specific
example, the request flows can be fairly complex and are probably an important part of the design.</p>

<h3 id="step-4-implementation-details">Step 4: Implementation details</h3>

<p>Once you‚Äôve defined the high-level pieces and the interfaces, it‚Äôs time to dig into the internal
implementation details. There are many different things you could focus on here, so it‚Äôs really
important to lean on your interviewer for guidance. Some potential topics to cover here include:</p>

<ol>
  <li>Tradeoffs in choices around specific components (e.g., using a relational DB vs. a
  <a href="https://en.wikipedia.org/wiki/NoSQL">NoSQL</a> solution)</li>
  <li>How a specific request type is handled end-to-end (including DB changes, etc.)</li>
  <li>Schemas for any data stores</li>
</ol>

<h3 id="step-5-enhancements-for-scalability-performance-etc">Step 5: Enhancements for scalability, performance, etc.</h3>

<p>Once your interface and basic implementation are in place, you can then discuss how to increase the
maximum load that your system can handle. This is also a good time to talk about the reliability of
your design and what you could do to improve it, if applicable.</p>

<p>As with the previous step, it‚Äôs really important to lean on your interviewer here and try to
dig into the areas that they feel are the most interesting to cover.</p>

<p>Although the exact solutions will vary based on the context, some general approaches that may
be helpful here include:</p>

<ol>
  <li><strong>Replication:</strong> Stateless components can be replicated to handle more traffic and be
  resilient to failures in individual instances. This may also help for stateful things like DBs if
  you send the reads and writes to different instances and can hand-wave away
  <a href="https://en.wikipedia.org/wiki/Data_consistency">consistency</a> issues.</li>
  <li><strong>Sharding:</strong> Splitting up your traffic by geography, user id, etc. and allocating each bucket to
  a semi-independent copy of your system may allow you to increase scale without redesigning
  everything from scratch.</li>
  <li><strong>Caching:</strong> Adding caches in front of read-only data can significantly improve performance in
  many cases and reduce DB load.</li>
  <li><strong>Queueing:</strong> Adding queues in your system may improve reliability and shield downstream
  components from load spikes. However, it can increase latency and also is hard to implement in
  synchronous request flows, so it‚Äôs most appropriate for asynchronous data pipelines.</li>
</ol>

<h2 id="common-mistakes">Common mistakes</h2>

<p>Even with good structure, there are some very common traps that candidates fall into that
reduce the quality of their answers in my view.</p>

<h3 id="being-too-service-oriented">Being too service-oriented</h3>

<p><a href="https://en.wikipedia.org/wiki/Service-oriented_architecture">Service-oriented-architecture (SOA)</a>
is a design pattern which eschews monolithic components for more specialized, distributed ones.
Over time, it‚Äôs evolved into the idea of breaking up monolithic systems into lots of tiny
<a href="https://en.wikipedia.org/wiki/Microservices">microservices</a>.</p>

<p>So, for instance, instead of having a single server that both accepts requests from clients
and updates the DB, you might introduce a ‚Äúdatabase service‚Äù between the app server and the
database. Now, you have two services instead of one. Over time, the original app server is split
out further and further until it‚Äôs just a router without any business logic in it.</p>

<p>While SOA and its microservices variant have benefits in some cases, they‚Äôre super easy to abuse,
make designs significantly more complex, and, without more understanding of the motivations, might
not be necessary in a real-world, large-scale system at all.</p>

<p>Here‚Äôs an extreme example of what I don‚Äôt want to see:</p>

<p><img src="/assets/excessive_soa.png" alt="Excessive SOA" /></p>

<p>Err on the side of being monolithic, then split things out later in the interview if and only if
there‚Äôs a good reason to do so.</p>

<h3 id="over-engineering-too-early">Over-engineering too early</h3>

<p>Related to SOA abuse is over-engineering your solution too early in the process. Yes,
having 3 layers of caching, or a queue between your app servers and your DB, or a fancy sharded
data store might make your system more scalable. However, it‚Äôs unlikely that you‚Äôll need those
in the first iteration, they make your design significantly more complex, and, without more testing
and iteration, it‚Äôs impossible to know how much these things will actually help.</p>

<p>As mentioned earlier, start simple and then add complexity later in your answer if needed.
Adding complexity is easier than removing it, and this also matches how many real-world systems
are implemented.</p>

<h3 id="using-components-you-dont-fully-understand">Using components you don‚Äôt fully understand</h3>

<p>Don‚Äôt include overly-hyped technologies in your solution (‚ÄúKafka!‚Äù, ‚ÄúCassandra!‚Äù,
‚Äúmachine learning!‚Äù) unless you really understand them and have day-to-day experience using them.
Otherwise, you‚Äôre likely to use them in the wrong way or look like an idiot when the interviewer
asks you follow-ups about how they work.</p>

<p>It‚Äôs much better to stick to less-sexy things that you actually know, e.g. MySQL, which can still be
(and actually are) the basis for many real-world, large scale systems. In the course of your
answer, it‚Äôs fine to mention other technologies that might be relevant, but you should explain that
you don‚Äôt have a lot of experience with them so you‚Äôd need to do more investigation before including
them in your design.</p>

<h3 id="getting-specific-in-the-wrong-areas">Getting specific in the wrong areas</h3>

<p>It‚Äôs impossible to cover all of the details of a complex system like Uber‚Äôs ride matching
in a 45-60 minute interview. When you focus too much on one specific thing (e.g., the database
schema), you‚Äôre necessarily omitting the chance to cover other aspects of the problem in a very
detailed way.</p>

<p>As mentioned earlier, start at a high-level and then dig into the lower-level components that your
interviewer steers you towards. Don‚Äôt waste time on details that your interviewer doesn‚Äôt care
about.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Doing well in an architecture interview is prerequisite for many software positions, particularly
the higher-level ones. Having a solid structure, starting from a high-level, avoiding
over-engineering, and sticking to what you know are the keys to success.</p>

  </div>

  
  <div class="post-related">
    <hr />
    <h1>üîó Related blog posts</h1>
    <ul>
      
      <li><a href="/blog/master-coding-interviews">Using Leetcode to master coding interviews</a></li>
      
      <li><a href="/blog/rules-for-better-interviews">The rules for better coding interviews</a></li>
      
    </ul>
  </div>
  

  <a class="u-url" href="/blog/architecture-interviews" hidden></a>
</article>
    </div>
  </main><footer class="site-footer h-card">
  <data class="u-url" href="/%20/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col one-half">
        <h2 class="footer-heading">Benjamin Yolken</h2>
        <ul class="contact-list">
          <li class="p-name">¬© Benjamin Yolken</li><li><a class="u-email" href="mailto:benjamin@yolken.net">benjamin@yolken.net</a></li></ul>
      </div>

      <div class="footer-col one-half">
        <p>Random thoughts from the perspective of a software engineer, particularly around tech careers and development processes.</p>
      </div>

      <div class="social-links"><ul class="social-media-list"><li><a href="https://www.linkedin.com/in/yolken"
      title="yolken"><svg class="svg-icon grey">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg></a></li><li><a href="https://twitter.com/bhyolken"
      title="bhyolken"><svg class="svg-icon grey">
        <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
      </svg></a></li></ul></div>
    </div>
  </div>
</footer></body>

</html>